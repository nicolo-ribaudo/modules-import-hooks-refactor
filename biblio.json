{"location":"https://nicolo-ribaudo.github.io/modules-import-hooks-refactor/","entries":[{"type":"clause","id":"sec-placeholder-1","aoid":null,"title":"","titleHTML":"","number":"1"},{"type":"clause","id":"sec-placeholder-2","aoid":null,"title":"","titleHTML":"","number":"2"},{"type":"clause","id":"sec-placeholder-3","aoid":null,"title":"","titleHTML":"","number":"3"},{"type":"clause","id":"sec-placeholder-4","aoid":null,"title":"","titleHTML":"","number":"4"},{"type":"clause","id":"sec-placeholder-5","aoid":null,"title":"","titleHTML":"","number":"5"},{"type":"clause","id":"sec-placeholder-6","aoid":null,"title":"","titleHTML":"","number":"6"},{"type":"clause","id":"sec-placeholder-7","aoid":null,"title":"","titleHTML":"","number":"7"},{"type":"clause","id":"sec-placeholder-8","aoid":null,"title":"","titleHTML":"","number":"8"},{"type":"clause","id":"sec-placeholder-9","aoid":null,"title":"","titleHTML":"","number":"9"},{"type":"clause","id":"sec-placeholder-10","aoid":null,"title":"","titleHTML":"","number":"10"},{"type":"clause","id":"sec-placeholder-11","aoid":null,"title":"","titleHTML":"","number":"11"},{"type":"clause","id":"sec-placeholder-12","aoid":null,"title":"","titleHTML":"","number":"12"},{"type":"clause","id":"sec-placeholder-13.1","aoid":null,"title":"","titleHTML":"","number":"13.1"},{"type":"clause","id":"sec-placeholder-13.2","aoid":null,"title":"","titleHTML":"","number":"13.2"},{"type":"clause","id":"sec-placeholder-13.3.1","aoid":null,"title":"","titleHTML":"","number":"13.3.1"},{"type":"clause","id":"sec-placeholder-13.3.2","aoid":null,"title":"","titleHTML":"","number":"13.3.2"},{"type":"clause","id":"sec-placeholder-13.3.3","aoid":null,"title":"","titleHTML":"","number":"13.3.3"},{"type":"clause","id":"sec-placeholder-13.3.4","aoid":null,"title":"","titleHTML":"","number":"13.3.4"},{"type":"clause","id":"sec-placeholder-13.3.5","aoid":null,"title":"","titleHTML":"","number":"13.3.5"},{"type":"clause","id":"sec-placeholder-13.3.6","aoid":null,"title":"","titleHTML":"","number":"13.3.6"},{"type":"clause","id":"sec-placeholder-13.3.7","aoid":null,"title":"","titleHTML":"","number":"13.3.7"},{"type":"clause","id":"sec-placeholder-13.3.8","aoid":null,"title":"","titleHTML":"","number":"13.3.8"},{"type":"clause","id":"sec-placeholder-13.3.9","aoid":null,"title":"","titleHTML":"","number":"13.3.9"},{"type":"op","aoid":"ContinueDynamicImport","refId":"sec-ContinueDynamicImport","signature":{"parameters":[{"name":"_state_","type":{"kind":"opaque","type":"a Record { [[Action]]: ~dynamic-import~&comma; [[PromiseCapability]]: a PromiseCapability Record }"}},{"name":"_module_","type":{"kind":"completion","completionType":"mixed","typeOfValueIfNormal":{"kind":"opaque","type":"a Module Record"}}}],"optionalParameters":[],"return":{"kind":"unused"}},"effects":["user-code"]},{"type":"clause","id":"sec-ContinueDynamicImport","aoid":"ContinueDynamicImport","title":"ContinueDynamicImport ( state, module )","titleHTML":"<ins>ContinueDynamicImport ( <var>state</var>, <var>module</var> )</ins>","number":"13.3.10.1.1"},{"type":"clause","id":"sec-import-call-runtime-semantics-evaluation","aoid":null,"title":"Runtime Semantics: Evaluation","titleHTML":"Runtime Semantics: Evaluation","number":"13.3.10.1"},{"type":"clause","id":"sec-import-calls","aoid":null,"title":"Import Calls","titleHTML":"Import Calls","number":"13.3.10"},{"type":"clause","id":"sec-left-hand-side-expressions","aoid":null,"title":"Left-Hand-Side Expressions","titleHTML":"Left-Hand-Side Expressions","number":"13.3"},{"type":"clause","id":"sec-ecmascript-language-expressions","aoid":null,"title":"ECMAScript Language: Expressions","titleHTML":"ECMAScript Language: Expressions","number":"13"},{"type":"clause","id":"sec-placeholder-14","aoid":null,"title":"","titleHTML":"","number":"14"},{"type":"clause","id":"sec-placeholder-15","aoid":null,"title":"","titleHTML":"","number":"15"},{"type":"clause","id":"sec-placeholder-16.1.1","aoid":null,"title":"","titleHTML":"","number":"16.1.1"},{"type":"clause","id":"sec-placeholder-16.1.2","aoid":null,"title":"","titleHTML":"","number":"16.1.2"},{"type":"clause","id":"sec-placeholder-16.1.3","aoid":null,"title":"","titleHTML":"","number":"16.1.3"},{"type":"term","term":"Script Record","id":"script-record","variants":["Script Records"]},{"type":"table","id":"table-script-records","number":1,"caption":"Table 1: Script Record Fields"},{"type":"clause","id":"sec-script-records","aoid":null,"title":"Script Records","titleHTML":"Script Records","number":"16.1.4"},{"type":"op","aoid":"ParseScript","refId":"sec-parse-script","signature":{"parameters":[{"name":"_sourceText_","type":{"kind":"opaque","type":"ECMAScript source text"}},{"name":"_realm_","type":null},{"name":"_hostDefined_","type":null}],"optionalParameters":[],"return":{"kind":"union","types":[{"kind":"opaque","type":"a Script Record"},{"kind":"opaque","type":"a non-empty List of *SyntaxError* objects"}]}},"effects":[]},{"type":"clause","id":"sec-parse-script","aoid":"ParseScript","title":"ParseScript ( sourceText, realm, hostDefined )","titleHTML":"ParseScript ( <var>sourceText</var>, <var>realm</var>, <var>hostDefined</var> )","number":"16.1.5"},{"type":"clause","id":"sec-scripts","aoid":null,"title":"Scripts","titleHTML":"Scripts","number":"16.1"},{"type":"clause","id":"sec-placeholder-16.2.1.1","aoid":null,"title":"","titleHTML":"","number":"16.2.1.1"},{"type":"clause","id":"sec-placeholder-16.2.1.2","aoid":null,"title":"","titleHTML":"","number":"16.2.1.2"},{"type":"clause","id":"sec-placeholder-16.2.1.3","aoid":null,"title":"","titleHTML":"","number":"16.2.1.3"},{"type":"clause","id":"sec-placeholder-16.2.1.4","aoid":null,"title":"","titleHTML":"","number":"16.2.1.4"},{"type":"term","term":"Cyclic Module Record","id":"cyclic-module-record","variants":["Cyclic Module Records"]},{"type":"table","id":"table-cyclic-module-fields","number":2,"caption":"Table 2: Additional Fields of Cyclic Module Records"},{"type":"table","id":"table-cyclic-module-methods","number":3,"caption":"Table 3: Additional Abstract Methods of Cyclic Module Records"},{"type":"op","aoid":"InnerModuleLoading","refId":"sec-InnerModuleLoading","signature":{"parameters":[{"name":"_state_","type":{"kind":"opaque","type":"a Record { [[Action]]: ~graph-loading~&comma; [[IsLoading]]: a Boolean&comma; [[PendingModules]]: an integer&comma; [[Visited]]: a List of Cyclic Module Records&comma; [[PromiseCapability]]: a PromiseCapability Record&comma; [[HostDefined]]: unknown }"}},{"name":"_module_","type":{"kind":"opaque","type":"a Module Record"}}],"optionalParameters":[],"return":{"kind":"unused"}},"effects":[]},{"type":"clause","id":"sec-InnerModuleLoading","aoid":"InnerModuleLoading","title":"InnerModuleLoading ( state, module )","titleHTML":"<ins>InnerModuleLoading ( <var>state</var>, <var>module</var> )</ins>","number":"16.2.1.5.1.1"},{"type":"op","aoid":"ContinueModuleLoading","refId":"sec-ContinueModuleLoading","signature":{"parameters":[{"name":"_state_","type":{"kind":"opaque","type":"a Record { [[Action]]: ~graph-loading~&comma; [[IsLoading]]: a Boolean&comma; [[PendingModules]]: an integer&comma; [[Visited]]: a List of Cyclic Module Records&comma; [[PromiseCapability]]: a PromiseCapability Record&comma; [[HostDefined]]: unknown }"}},{"name":"_result_","type":{"kind":"completion","completionType":"mixed","typeOfValueIfNormal":{"kind":"opaque","type":"a Module Record"}}}],"optionalParameters":[],"return":{"kind":"unused"}},"effects":[]},{"type":"clause","id":"sec-ContinueModuleLoading","aoid":"ContinueModuleLoading","title":"ContinueModuleLoading ( state, result )","titleHTML":"<ins>ContinueModuleLoading ( <var>state</var>, <var>result</var> )</ins>","number":"16.2.1.5.1.2"},{"type":"clause","id":"sec-LoadRequestedModules","aoid":null,"title":"LoadRequestedModules ( [ hostDefined ] )","titleHTML":"<ins>LoadRequestedModules ( [ <var>hostDefined</var> ] )</ins>","number":"16.2.1.5.1"},{"type":"op","aoid":"InnerModuleLinking","refId":"sec-InnerModuleLinking","signature":{"parameters":[{"name":"_module_","type":{"kind":"opaque","type":"a Module Record"}},{"name":"_stack_","type":null},{"name":"_index_","type":{"kind":"opaque","type":"a non-negative integer"}}],"optionalParameters":[],"return":{"kind":"completion","completionType":"mixed","typeOfValueIfNormal":{"kind":"opaque","type":"a non-negative integer"}}},"effects":[]},{"type":"clause","id":"sec-InnerModuleLinking","aoid":"InnerModuleLinking","title":"InnerModuleLinking ( module, stack, index )","titleHTML":"InnerModuleLinking ( <var>module</var>, <var>stack</var>, <var>index</var> )","number":"16.2.1.5.2.1"},{"type":"clause","id":"sec-moduledeclarationlinking","aoid":null,"title":"Link ( )","titleHTML":"Link ( )","number":"16.2.1.5.2"},{"type":"op","aoid":"InnerModuleEvaluation","refId":"sec-innermoduleevaluation","signature":{"parameters":[{"name":"_module_","type":{"kind":"opaque","type":"a Module Record"}},{"name":"_stack_","type":null},{"name":"_index_","type":{"kind":"opaque","type":"a non-negative integer"}}],"optionalParameters":[],"return":{"kind":"completion","completionType":"mixed","typeOfValueIfNormal":{"kind":"opaque","type":"a non-negative integer"}}},"effects":["user-code"]},{"type":"clause","id":"sec-innermoduleevaluation","aoid":"InnerModuleEvaluation","title":"InnerModuleEvaluation ( module, stack, index )","titleHTML":"InnerModuleEvaluation ( <var>module</var>, <var>stack</var>, <var>index</var> )","number":"16.2.1.5.3.1"},{"type":"op","aoid":"ExecuteAsyncModule","refId":"sec-execute-async-module","signature":{"parameters":[{"name":"_module_","type":{"kind":"opaque","type":"a Cyclic Module Record"}}],"optionalParameters":[],"return":{"kind":"unused"}},"effects":["user-code"]},{"type":"clause","id":"sec-execute-async-module","aoid":"ExecuteAsyncModule","title":"ExecuteAsyncModule ( module )","titleHTML":"ExecuteAsyncModule ( <var>module</var> )","number":"16.2.1.5.3.2"},{"type":"op","aoid":"GatherAvailableAncestors","refId":"sec-gather-available-ancestors","signature":{"parameters":[{"name":"_module_","type":{"kind":"opaque","type":"a Cyclic Module Record"}},{"name":"_execList_","type":{"kind":"list","elements":{"kind":"opaque","type":"Cyclic Module Records"}}}],"optionalParameters":[],"return":{"kind":"unused"}},"effects":[]},{"type":"clause","id":"sec-gather-available-ancestors","aoid":"GatherAvailableAncestors","title":"GatherAvailableAncestors ( module, execList )","titleHTML":"GatherAvailableAncestors ( <var>module</var>, <var>execList</var> )","number":"16.2.1.5.3.3"},{"type":"op","aoid":"AsyncModuleExecutionFulfilled","refId":"sec-async-module-execution-fulfilled","signature":{"parameters":[{"name":"_module_","type":{"kind":"opaque","type":"a Cyclic Module Record"}}],"optionalParameters":[],"return":{"kind":"unused"}},"effects":["user-code"]},{"type":"clause","id":"sec-async-module-execution-fulfilled","aoid":"AsyncModuleExecutionFulfilled","title":"AsyncModuleExecutionFulfilled ( module )","titleHTML":"AsyncModuleExecutionFulfilled ( <var>module</var> )","number":"16.2.1.5.3.4"},{"type":"op","aoid":"AsyncModuleExecutionRejected","refId":"sec-async-module-execution-rejected","signature":{"parameters":[{"name":"_module_","type":{"kind":"opaque","type":"a Cyclic Module Record"}},{"name":"_error_","type":{"kind":"opaque","type":"an ECMAScript language value"}}],"optionalParameters":[],"return":{"kind":"unused"}},"effects":[]},{"type":"clause","id":"sec-async-module-execution-rejected","aoid":"AsyncModuleExecutionRejected","title":"AsyncModuleExecutionRejected ( module, error )","titleHTML":"AsyncModuleExecutionRejected ( <var>module</var>, <var>error</var> )","number":"16.2.1.5.3.5"},{"type":"clause","id":"sec-moduleevaluation","aoid":null,"title":"Evaluate ( )","titleHTML":"Evaluate ( )","number":"16.2.1.5.3"},{"type":"clause","id":"sec-cyclic-module-records","aoid":null,"title":"Cyclic Module Records","titleHTML":"Cyclic Module Records","number":"16.2.1.5"},{"type":"op","aoid":"ParseModule","refId":"sec-parsemodule","signature":{"parameters":[{"name":"_sourceText_","type":{"kind":"opaque","type":"ECMAScript source text"}},{"name":"_realm_","type":null},{"name":"_hostDefined_","type":null}],"optionalParameters":[],"return":{"kind":"union","types":[{"kind":"opaque","type":"a Source Text Module Record"},{"kind":"opaque","type":"a non-empty List of *SyntaxError* objects"}]}},"effects":[]},{"type":"clause","id":"sec-parsemodule","aoid":"ParseModule","title":"ParseModule ( sourceText, realm, hostDefined )","titleHTML":"ParseModule ( <var>sourceText</var>, <var>realm</var>, <var>hostDefined</var> )","number":"16.2.1.6.1"},{"type":"clause","id":"sec-getexportednames","aoid":null,"title":"GetExportedNames ( [ exportStarSet ] )","titleHTML":"GetExportedNames ( [ <var>exportStarSet</var> ] )","number":"16.2.1.6.2"},{"type":"clause","id":"sec-resolveexport","aoid":null,"title":"ResolveExport ( exportName [ , resolveSet ] )","titleHTML":"ResolveExport ( <var>exportName</var> [ , <var>resolveSet</var> ] )","number":"16.2.1.6.3"},{"type":"clause","id":"sec-source-text-module-record-initialize-environment","aoid":null,"title":"InitializeEnvironment ( )","titleHTML":"InitializeEnvironment ( )","number":"16.2.1.6.4"},{"type":"clause","id":"sec-source-text-module-records","aoid":null,"title":"Source Text Module Records","titleHTML":"Source Text Module Records","number":"16.2.1.6"},{"type":"op","aoid":"HostResolveImportedModule","refId":"sec-hostresolveimportedmodule","signature":{"parameters":[{"name":"_referencingScriptOrModule_","type":{"kind":"union","types":[{"kind":"opaque","type":"a Script Record"},{"kind":"opaque","type":"a Module Record"},{"kind":"opaque","type":"*null*"}]}},{"name":"_specifier_","type":{"kind":"opaque","type":"a |ModuleSpecifier| String"}}],"optionalParameters":[],"return":{"kind":"completion","completionType":"mixed","typeOfValueIfNormal":{"kind":"opaque","type":"a Module Record"}}},"effects":[]},{"type":"clause","id":"sec-hostresolveimportedmodule","aoid":"HostResolveImportedModule","title":"HostResolveImportedModule ( referencingScriptOrModule, specifier )","titleHTML":"<del>HostResolveImportedModule ( <var>referencingScriptOrModule</var>, <var>specifier</var> )</del>","number":"16.2.1.7"},{"type":"op","aoid":"HostImportModuleDynamically","refId":"sec-hostimportmoduledynamically","signature":{"parameters":[{"name":"_referencingScriptOrModule_","type":{"kind":"union","types":[{"kind":"opaque","type":"a Script Record"},{"kind":"opaque","type":"a Module Record"},{"kind":"opaque","type":"*null*"}]}},{"name":"_specifier_","type":{"kind":"opaque","type":"a |ModuleSpecifier| String"}},{"name":"_promiseCapability_","type":{"kind":"opaque","type":"a PromiseCapability Record"}}],"optionalParameters":[],"return":{"kind":"unused"}},"effects":[]},{"type":"clause","id":"sec-hostimportmoduledynamically","aoid":"HostImportModuleDynamically","title":"HostImportModuleDynamically ( referencingScriptOrModule, specifier, promiseCapability )","titleHTML":"<del>HostImportModuleDynamically ( <var>referencingScriptOrModule</var>, <var>specifier</var>, <var>promiseCapability</var> )</del>","number":"16.2.1.8"},{"type":"op","aoid":"FinishDynamicImport","refId":"sec-finishdynamicimport","signature":{"parameters":[{"name":"_referencingScriptOrModule_","type":null},{"name":"_specifier_","type":null},{"name":"_promiseCapability_","type":{"kind":"opaque","type":"a PromiseCapability Record"}},{"name":"_innerPromise_","type":null}],"optionalParameters":[],"return":{"kind":"unused"}},"effects":["user-code"]},{"type":"clause","id":"sec-finishdynamicimport","aoid":"FinishDynamicImport","title":"FinishDynamicImport ( referencingScriptOrModule, specifier, promiseCapability, innerPromise )","titleHTML":"<del>FinishDynamicImport ( <var>referencingScriptOrModule</var>, <var>specifier</var>, <var>promiseCapability</var>, <var>innerPromise</var> )</del>","number":"16.2.1.9"},{"type":"op","aoid":"GetImportedModule","refId":"sec-GetImportedModule","signature":{"parameters":[{"name":"_referencingScriptOrModule_","type":{"kind":"union","types":[{"kind":"opaque","type":"a Script Record"},{"kind":"opaque","type":"a Cyclic Module Record"},{"kind":"opaque","type":"*null*."}]}},{"name":"_specifier_","type":{"kind":"opaque","type":"a String"}}],"optionalParameters":[],"return":{"kind":"union","types":[{"kind":"opaque","type":"a Module Record"},{"kind":"opaque","type":"~empty~"}]}},"effects":[]},{"type":"clause","id":"sec-GetImportedModule","aoid":"GetImportedModule","title":"GetImportedModule ( referencingScriptOrModule, specifier )","titleHTML":"<ins>GetImportedModule ( <var>referencingScriptOrModule</var>, <var>specifier</var> )</ins>","number":"16.2.1.10"},{"type":"op","aoid":"HostLoadImportedModule","refId":"sec-HostLoadImportedModule","signature":{"parameters":[{"name":"_referencingScriptOrModule_","type":{"kind":"union","types":[{"kind":"opaque","type":"a Script Record"},{"kind":"opaque","type":"a Cyclic Module Record"},{"kind":"opaque","type":"*null*"}]}},{"name":"_specifier_","type":{"kind":"opaque","type":"a String"}},{"name":"_hostDefined_","type":null},{"name":"_payload_","type":{"kind":"union","types":[{"kind":"opaque","type":"a Record with an [[Action]] field whose value is ~graph-loading~"},{"kind":"opaque","type":"~dynamic-import~"}]}}],"optionalParameters":[],"return":{"kind":"unused"}},"effects":[]},{"type":"clause","id":"sec-HostLoadImportedModule","aoid":"HostLoadImportedModule","title":"HostLoadImportedModule ( referencingScriptOrModule, specifier, hostDefined, payload )","titleHTML":"<ins>HostLoadImportedModule ( <var>referencingScriptOrModule</var>, <var>specifier</var>, <var>hostDefined</var>, <var>payload</var> )</ins>","number":"16.2.1.11"},{"type":"op","aoid":"FinishLoadImportedModule","refId":"sec-FinishLoadImportedModule","signature":{"parameters":[{"name":"_referencingScriptOrModule_","type":{"kind":"union","types":[{"kind":"opaque","type":"a Script Record"},{"kind":"opaque","type":"a Cyclic Module Record"},{"kind":"opaque","type":"*null*"}]}},{"name":"_specifier_","type":{"kind":"opaque","type":"a String"}},{"name":"_payload_","type":{"kind":"union","types":[{"kind":"opaque","type":"a Record with an [[Action]] field whose value is ~graph-loading~"},{"kind":"opaque","type":"~dynamic-import~"}]}},{"name":"_result_","type":{"kind":"completion","completionType":"mixed","typeOfValueIfNormal":{"kind":"opaque","type":"a Module Record"}}}],"optionalParameters":[],"return":{"kind":"unused"}},"effects":["user-code"]},{"type":"clause","id":"sec-FinishLoadImportedModule","aoid":"FinishLoadImportedModule","title":"FinishLoadImportedModule ( referencingScriptOrModule, specifier, payload, result )","titleHTML":"<ins>FinishLoadImportedModule ( <var>referencingScriptOrModule</var>, <var>specifier</var>, <var>payload</var>, <var>result</var> )</ins>","number":"16.2.1.12"},{"type":"clause","id":"sec-module-semantics","aoid":null,"title":"Module Semantics","titleHTML":"Module Semantics","number":"16.2.1"},{"type":"clause","id":"sec-modules","aoid":null,"title":"Modules","titleHTML":"Modules","number":"16.2"},{"type":"clause","id":"sec-ecmascript-language-scripts-and-modules","aoid":null,"title":"ECMAScript Language: Scripts and Modules","titleHTML":"ECMAScript Language: Scripts and Modules","number":"16"},{"type":"clause","id":"sec-copyright-and-software-license","aoid":null,"title":"Copyright & Software License","titleHTML":"Copyright &amp; Software License","number":"A"}]}